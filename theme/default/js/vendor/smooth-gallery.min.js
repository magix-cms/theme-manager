/*
 * default v2.7.1 for Magix CMS v2.7.1
 *
 * MAGIX CMS Copyright (C) 2008 - 2017 Gerits Aurelien,
 * http://www.magix-cms.com, http://www.magix-cjquery.com, http://www.aurelien-gerits.be
 * @author Gérits Aurélien <aurelien@magix-cms.com>
 * @author Salvatore Di Salvo <http://www.disalvo-infographiste.be>
 *
 * Full source at https://github.com/magix-cms/magixcms
 *
 * Dual licensed under the MIT or GPL Version 3 licenses.
 */+function(t){"use strict";function s(){var s=arguments;return this.each(function(){var i=t(this),o=i.data("bs.dropdownselect"),n=s[0];if("object"!=typeof n&&n){if(!o[n])return t.error("Method "+n+" does not exist on jQuery.SmoothGallery"),this;n=o[n],s=Array.prototype.slice.call(s,1),null==s&&void 0==s&&s==[]||n.apply(o,s)}else{var r="object"==typeof n&&n;o||i.data("bs.dropdownselect",o=new e(this,r))}})}var e=function(s,e){this.$element=t(s),this.options=t.extend({},this.defaults(),e),this.structure=t.extend({},this.parts()),this.init()};e.VERSION="1.0.0",e.DEFAULTS={container:this,scrollSpeed:500,draggable:!1,list:"ul",item:"ul > li:first-child",items:"ul li",btn:{prv:".button.prev",nxt:".button.next"},vars:{}},e.prototype.parts=function(){return{$container:this.$element,$list:t(this.options.list,this.$element),$item:t(this.options.item,this.$element),$items:t(this.options.items,this.$element),$btn:{prv:t(this.options.btn.prv,this.$element),nxt:t(this.options.btn.nxt,this.$element)}}},e.prototype.defaults=function(){return{container:e.DEFAULTS.container,scrollSpeed:this.$element.attr("data-scrollSpeed")||e.DEFAULTS.scrollSpeed,draggable:this.$element.attr("data-draggable")||e.DEFAULTS.draggable,list:e.DEFAULTS.list,item:e.DEFAULTS.item,items:e.DEFAULTS.items,btn:e.DEFAULTS.btn,vars:e.DEFAULTS.vars}},e.prototype.init=function(){var s=this,e=this.structure.$items.length;e>0&&(this.options.vars.startPos=parseInt(t(".thumbs ul").css("left").slice(0,-2)),this.options.vars.liw=this.structure.$item.width(),this.options.vars.gutter=parseInt(this.structure.$item.css("margin-right").slice(0,-2)),this.options.vars.contW=t(".thumbs").width(),this.options.vars.listW=this.options.vars.liw*e+this.options.vars.gutter*(e-1),this.options.vars.maxOffset=-(this.options.vars.startPos+(this.options.vars.listW-this.options.vars.contW)),this.options.vars.offset=this.options.vars.liw+this.options.vars.gutter,this.options.vars.clickIsValid=!0,this.options.vars.delay=500,this.options.vars.cancelClick=null,this.structure.$btn.prv.mousedown(function(){s.hold("prev")}),this.structure.$btn.nxt.mousedown(function(){s.hold("next")}),this.structure.$btn.prv.mouseup(function(t){t.preventDefault(),s.release("prev")}),this.structure.$btn.nxt.mouseup(function(t){t.preventDefault(),s.release("next")}),this.options.draggable&&this.$element.addClass("draggable"))},e.prototype.hold=function(t){var s=this;this.options.vars.cancelClick=setTimeout(function(){s.options.vars.clickIsValid=!1;var e=parseInt(s.structure.$list.css("left").slice(0,-2)),i=s.options.scrollSpeed;"prev"==t&&(s.options.vars.nextPos=0,i=Math.abs(Math.round((0-e)/s.options.vars.offset*s.options.scrollSpeed))),"next"==t&&(s.options.vars.nextPos=s.options.vars.maxOffset,i=Math.abs(Math.round((s.options.vars.maxOffset-e)/s.options.vars.offset*s.options.scrollSpeed))),s.structure.$list.animate({left:s.options.vars.nextPos+"px"},i)},this.options.vars.delay)},e.prototype.release=function(t){clearTimeout(this.options.vars.cancelClick),this.options.vars.clickIsValid?this.click(t):this.structure.$list.stop(),this.options.vars.clickIsValid=!0},e.prototype.click=function(t){var s=this,e=parseInt(this.structure.$list.css("left").slice(0,-2)),i=0;"prev"==t&&(i=e+s.options.vars.offset,i>0&&(i=0)),"next"==t&&(i=e-s.options.vars.offset,i<s.options.vars.maxOffset&&(i=s.options.vars.maxOffset)),this.structure.$list.animate({left:i+"px"},this.options.scrollSpeed)};var i=t.fn.smoothGallery;t.fn.smoothGallery=s,t.fn.smoothGallery.Constructor=e,t.fn.toggle.noConflict=function(){return t.fn.smoothGallery=i,this},t(function(){t(".smooth-gallery").smoothGallery()})}(jQuery);